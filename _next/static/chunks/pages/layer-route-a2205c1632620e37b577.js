_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{LSo5:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/layer-route",function(){return n("fSmc")}])},UEtB:function(e,t,n){"use strict";var r={};function o(e){return Math.floor(Math.abs(e)+.5)*(e>=0?1:-1)}function a(e,t,n){var r=(e=o(e*n))-(t=o(t*n));r<<=1,e-t<0&&(r=~r);for(var a="";r>=32;)a+=String.fromCharCode(63+(32|31&r)),r>>=5;return a+=String.fromCharCode(r+63)}function i(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].slice();t.push([r[1],r[0]])}return t}r.decode=function(e,t){for(var n,r=0,o=0,a=0,i=[],u=0,l=0,c=null,s=Math.pow(10,Number.isInteger(t)?t:5);r<e.length;){c=null,u=0,l=0;do{l|=(31&(c=e.charCodeAt(r++)-63))<<u,u+=5}while(c>=32);n=1&l?~(l>>1):l>>1,u=l=0;do{l|=(31&(c=e.charCodeAt(r++)-63))<<u,u+=5}while(c>=32);o+=n,a+=1&l?~(l>>1):l>>1,i.push([o/s,a/s])}return i},r.encode=function(e,t){if(!e.length)return"";for(var n=Math.pow(10,Number.isInteger(t)?t:5),r=a(e[0][0],0,n)+a(e[0][1],0,n),o=1;o<e.length;o++){var i=e[o],u=e[o-1];r+=a(i[0],u[0],n),r+=a(i[1],u[1],n)}return r},r.fromGeoJSON=function(e,t){if(e&&"Feature"===e.type&&(e=e.geometry),!e||"LineString"!==e.type)throw new Error("Input must be a GeoJSON LineString");return r.encode(i(e.coordinates),t)},r.toGeoJSON=function(e,t){return{type:"LineString",coordinates:i(r.decode(e,t))}},e.exports&&(e.exports=r)},fSmc:function(e,t,n){"use strict";n.r(t);var r=n("rePB"),o=n("UEtB"),a=n.n(o),i=n("R/WZ"),u=n("Ji2X"),l=n("bXiM"),c=n("lO0E"),s=n("tRbT"),f=n("ofer"),p=n("Sgle"),d=n("YFqc"),g=n.n(d),b=n("q1tI"),y=n.n(b),m=n("UP1k"),h=n("gTWD"),w=y.a.createElement;function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=Object(i.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1}}}));t.default=function(){var e=j(),t=Object(b.useState)(h.a),n=t[0],r=t[1],o=Object(b.useState)(""),i=o[0],d=o[1],O=Object(b.useState)(""),S=O[0],N=O[1],x=Object(b.useState)(null),E=x[0],P=x[1],_=Object(b.useState)(null),C=_[0],L=_[1];return Object(b.useEffect)((function(){if(E){var e=new m.d({width:400,height:400}).fitBounds(E.geometry.coordinates,{padding:20,offset:[0,-100]}),t=e.longitude,o=e.latitude,a=e.zoom;r(v(v({},n),{},{zoom:a,longitude:t,latitude:o}))}}),[E,C]),w(y.a.Fragment,null,w(u.a,{maxWidth:!1},w(l.a,{position:"static",color:"inherit"},w(c.a,null,w(s.a,{container:!0,className:e.root,spacing:2,justify:"flex-start",alignItems:"center"},w(s.a,{item:!0},w(f.a,{variant:"h6",className:e.title},"Route Layer")),w(s.a,{item:!0},w(p.a,{"aria-label":"breadcrumb"},w(g.a,{href:"/"},"Home")))))),w("label",{className:"text-gray-600 font-light"},"encodedPolyline"),w("input",{id:"polyline",type:"text",value:i,placeholder:"Enter your encoded polyline",onChange:function(e){return d(e.target.value)},className:"w-full mt-2 mb-6 px-6 py-3 border rounded-lg text-lg text-gray-700 focus:outline-none"}),w("label",{className:"text-gray-600 font-light"},"coordinates"),w("textarea",{id:"points",value:S,placeholder:"lat1,lon1\nlat2,lon2",onChange:function(e){return N(e.target.value)},className:"w-full mt-2 mb-6 px-6 py-3 border rounded-lg text-lg text-gray-700 focus:outline-none"}),w("button",{id:"update",onClick:function(){var e=""!==i?a.a.decode(i,6).map((function(e){return[e[1],e[0]]})):null;P(e?{type:"Feature",geometry:{type:"LineString",coordinates:e}}:null);var t=S.split("\n").filter((function(e){return""!==e})).map((function(e){var t=e.split(",");return[Number(t[1]),Number(t[0])]})).map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:e}}})),n=t.length>0?{type:"FeatureCollection",features:t}:null;L(n)},type:"button",className:"mb-1 w-full bg-blue-600 text-gray-200 rounded hover:bg-blue-500 px-4 py-2 focus:outline-none"},"update"),w(h.b,{viewport:n,onViewportChange:function(e){return r(e),e}},E&&w(m.c,{id:"route",type:"geojson",data:E},w(m.a,{id:"line",type:"line",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#0000ff","line-width":8}})),C&&w(m.c,{id:"points",type:"geojson",data:C},w(m.a,{id:"point",type:"circle",paint:{"circle-radius":10,"circle-color":"#007cbf"}})))))}}},[["LSo5",0,2,5,1,3,4,6]]]);