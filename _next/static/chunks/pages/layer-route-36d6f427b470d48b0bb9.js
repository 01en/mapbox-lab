_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{LSo5:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/layer-route",function(){return n("fSmc")}])},UEtB:function(e,t,n){"use strict";var r={};function o(e){return Math.floor(Math.abs(e)+.5)*(e>=0?1:-1)}function a(e,t,n){var r=(e=o(e*n))-(t=o(t*n));r<<=1,e-t<0&&(r=~r);for(var a="";r>=32;)a+=String.fromCharCode(63+(32|31&r)),r>>=5;return a+=String.fromCharCode(r+63)}function i(e){for(var t=[],n=0;n<e.length;n++){var r=e[n].slice();t.push([r[1],r[0]])}return t}r.decode=function(e,t){for(var n,r=0,o=0,a=0,i=[],u=0,l=0,c=null,f=Math.pow(10,Number.isInteger(t)?t:5);r<e.length;){c=null,u=0,l=0;do{l|=(31&(c=e.charCodeAt(r++)-63))<<u,u+=5}while(c>=32);n=1&l?~(l>>1):l>>1,u=l=0;do{l|=(31&(c=e.charCodeAt(r++)-63))<<u,u+=5}while(c>=32);o+=n,a+=1&l?~(l>>1):l>>1,i.push([o/f,a/f])}return i},r.encode=function(e,t){if(!e.length)return"";for(var n=Math.pow(10,Number.isInteger(t)?t:5),r=a(e[0][0],0,n)+a(e[0][1],0,n),o=1;o<e.length;o++){var i=e[o],u=e[o-1];r+=a(i[0],u[0],n),r+=a(i[1],u[1],n)}return r},r.fromGeoJSON=function(e,t){if(e&&"Feature"===e.type&&(e=e.geometry),!e||"LineString"!==e.type)throw new Error("Input must be a GeoJSON LineString");return r.encode(i(e.coordinates),t)},r.toGeoJSON=function(e,t){return{type:"LineString",coordinates:i(r.decode(e,t))}},e.exports&&(e.exports=r)},fSmc:function(e,t,n){"use strict";n.r(t);var r=n("rePB"),o=n("KQm4"),a=n("UEtB"),i=n.n(a),u=n("R/WZ"),l=n("Ji2X"),c=n("bXiM"),f=n("lO0E"),s=n("tRbT"),p=n("ofer"),d=n("Sgle"),g=n("YFqc"),b=n.n(g),y=n("q1tI"),m=n.n(y),h=n("UP1k"),w=n("gTWD"),O=m.a.createElement;function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=Object(u.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1}}}));t.default=function(){var e=S(),t=Object(y.useState)(w.a),n=t[0],r=t[1],a=Object(y.useState)("cxl_cBqwvnS|Dy@ogFyxmAf`IsnA|CjFzCsHluD_k@hi@ljL"),u=a[0],g=a[1],j=Object(y.useState)(""),x=j[0],N=j[1],E=Object(y.useState)(null),P=E[0],_=E[1],C=Object(y.useState)(null),F=C[0],L=C[1],D=function(){var e=""!==u?i.a.decode(u,6).map((function(e){return[e[1],e[0]]})):null;_(e?{type:"Feature",geometry:{type:"LineString",coordinates:e}}:null);var t=x.split("\n").filter((function(e){return""!==e})).map((function(e){var t=e.split(",");return[Number(t[1]),Number(t[0])]})).map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:e}}})),n=t.length>0?{type:"FeatureCollection",features:t}:null;L(n)};return Object(y.useEffect)((function(){D()}),[]),Object(y.useEffect)((function(){if(P){var e=new h.d({width:400,height:400}).fitBounds(Object(o.a)(P.geometry.coordinates),{padding:20,offset:[0,-100]}),t=e.longitude,a=e.latitude,i=e.zoom;r(v(v({},n),{},{zoom:i,longitude:t,latitude:a}))}}),[P,F]),O(m.a.Fragment,null,O(l.a,{maxWidth:!1},O(c.a,{position:"static",color:"inherit"},O(f.a,null,O(s.a,{container:!0,className:e.root,spacing:2,justify:"flex-start",alignItems:"center"},O(s.a,{item:!0},O(p.a,{variant:"h6",className:e.title},"Route Layer")),O(s.a,{item:!0},O(d.a,{"aria-label":"breadcrumb"},O(b.a,{href:"/"},"Home")))))),O("label",{className:"text-gray-600 font-light"},"encodedPolyline"),O("input",{id:"polyline",type:"text",value:u,placeholder:"Enter your encoded polyline",onChange:function(e){return g(e.target.value)},className:"w-full mt-2 mb-6 px-6 py-3 border rounded-lg text-lg text-gray-700 focus:outline-none"}),O("label",{className:"text-gray-600 font-light"},"coordinates"),O("textarea",{id:"points",value:x,placeholder:"lat1,lon1\nlat2,lon2",onChange:function(e){return N(e.target.value)},className:"w-full mt-2 mb-6 px-6 py-3 border rounded-lg text-lg text-gray-700 focus:outline-none"}),O("button",{id:"update",onClick:D,type:"button",className:"mb-1 w-full bg-blue-600 text-gray-200 rounded hover:bg-blue-500 px-4 py-2 focus:outline-none"},"update"),O(w.b,{viewport:n,onViewportChange:function(e){return r(e),e}},P&&O(h.c,{id:"route",type:"geojson",data:P},O(h.a,{id:"line",type:"line",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#0000ff","line-width":8}})),F&&O(h.c,{id:"points",type:"geojson",data:F},O(h.a,{id:"point",type:"circle",paint:{"circle-radius":10,"circle-color":"#ff0000"}})))))}}},[["LSo5",0,2,5,1,3,4,6]]]);